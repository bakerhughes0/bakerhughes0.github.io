<html>
<head>
<title>Visual Management 0473</title>
<script type=text/javascript>
var o;
var timestamp;

function loadData(){
    var d = new Date();
    var sd = d.getUTCFullYear() + '-' + (d.getUTCMonth() + 1) + '-' + d.getUTCDate() + ' ' +  d.getUTCHours() + ':' + d.getUTCMinutes() + ':' + d.getUTCSeconds();
    var js = document.createElement('script');
    js.type='text/javascript';
    js.src="vmwc.js" + "?d=" + sd;;
    document.head.appendChild(js);    
    }
  
function draw(){
  //timestamp = new Date(2022,8,12,16,16);
  //alert(timestamp);
  screenRatio=1080/1920;
  wmax = innerWidth-16; hmax = window.innerHeight-16;
  W = wmax; H= W * screenRatio;
  if(H>hmax){H=hmax;W=H/screenRatio;}
  r = W/1080;
  o.width=W; o.height=H;
  o.ctx.scale(0.5,0.5);
  W=W*2; H=H*2;
  with (o.ctx) {
    textBaseline = "middle";
    lineWidth = 6;
    strokeStyle='#eee';
    //strokeRect(0,0,W,H);

    



    font = (20*r).toString() + "px Arial";
    textAlign = "left";
    fillStyle="#f5f5f5"
    fillText("Production Control - " + timestamp.getFullYear().toString() + '-' + (timestamp.getMonth()+1).toString() + '-' + timestamp.getDate().toString(), 0, H * 0.02)

    font = "bold " + (38*r).toString() + "px Arial";
    textAlign = "center";
    textBaseline = "middle";
    fillStyle="#f5f5f5"
    fillText("0473. EQUIPEMENT ETALONNAGE CONVENTIONNEL", W* .6, H * 0.03)

    lineWidth = 4;
    strokeStyle='#888';
    font = "bold " + (24*r).toString() + "px Arial";
    for(var y=0;y<27;y++){
      if(y==0){
        fillStyle="#248";
        fillRect(.23*W ,.09*H + .032*H*y,.752*W,.032*H);
        fillStyle="#f5f5f5";
        textAlign = "center";
        fillText("Workorder", .261*W ,.108*H);
        textAlign = "left";
        fillText("Operation", .295*W ,.108*H);
        fillText("Description", .515*W ,.108*H);
        fillText("Std.H", .735*W ,.108*H);
        fillText("SO / Customer", .775*W ,.108*H);
        fillText("Aging", .945*W ,.108*H);
        }else{
        fillStyle="#222";
        fillRect(.23*W ,.09*H + .032*H*y,.062*W,.032*H);
        fillStyle="#f5f5f5";
        textAlign = "center";
        font = (26*r).toString() + "px Arial";
        fillText("00000000", .261*W ,.108*H + .032*H*y);
        fillStyle="#222";
        fillRect(.292*W ,.09*H + .032*H*y,.22*W,.032*H);
        fillStyle="#f5f5f5";
        textAlign = "left";
        fillText("OPERATION...", .295*W ,.108*H + .032*H*y)
        fillStyle="#222";
        fillRect(.512*W ,.09*H + .032*H*y,.22*W,.032*H);
        fillStyle="#f5f5f5";
        fillText("DESCRIPTION...", .515*W ,.108*H + .032*H*y);
        fillStyle="#222";
        fillRect(.732*W ,.09*H + .032*H*y,.04*W,.032*H);
        fillStyle="#f5f5f5";
        textAlign = "right";
        fillText("0.00", .769*W ,.108*H + .032*H*y);
        fillStyle="#222";
        fillRect(.772*W ,.09*H + .032*H*y,.17*W,.032*H);
        fillStyle="#f5f5f5";
        textAlign = "left";
        fillText("1007564-1000 CUSTOMER NAME", .775*W ,.108*H + .032*H*y);
        fillStyle="#222";
        fillRect(.942*W ,.09*H + .032*H*y,.04*W,.032*H);
        fillStyle="#f5f5f5";
        beginPath();
        arc(.962*W, .106*H + .032*H*y, .005*W, 0, 2 * Math.PI);
        fill();
        fillStyle="#f5f5f5";
        fillRect(.217*W ,.096*H + .032*H*y,.01*W,.018*H);
        }
      strokeRect(.23*W ,.09*H + .032*H*y,.062*W,.032*H);
      strokeRect(.292*W ,.09*H + .032*H*y,.22*W,.032*H);
      strokeRect(.512*W ,.09*H + .032*H*y,.22*W,.032*H);
      strokeRect(.732*W ,.09*H + .032*H*y,.04*W,.032*H);
      strokeRect(.772*W ,.09*H + .032*H*y,.17*W,.032*H);
      strokeRect(.942*W ,.09*H + .032*H*y,.04*W,.032*H);
      }
    beginPath();
    moveTo(0,.09*H);
    lineTo(.21*W,.09*H);
    moveTo(0,.442*H);
    lineTo(.21*W,.442*H);
    stroke();
    }
  }

window.onload=function(){
  o=document.createElement('canvas');
  o.ctx=o.getContext('2d');
  loadData();
  draw();
  document.body.appendChild(o)
  }

window.onresize=function(){
  draw();
  }


setInterval(function() {
    loadData();
    draw();
}, 20000);


</script>
</head>
<body style="background-color:#222">


</body>
</html>
